(this["webpackJsonpairbnb-clone"]=this["webpackJsonpairbnb-clone"]||[]).push([[10],{127:function(e,t,a){},140:function(e,t,a){"use strict";a.r(t);var n=a(13),o=a(14),r=a(16),l=a(15),s=a(17),c=a(0),i=a.n(c),u=(a(127),a(26)),m=a(27),p=a(6),d=a(64),g=function(){return{type:"LOGOUT"}},h=a(68),E=a(74),b=function(e){function t(){return Object(n.a)(this,t),Object(r.a)(this,Object(l.a)(t).apply(this,arguments))}return Object(s.a)(t,e),Object(o.a)(t,[{key:"componentDidUpdate",value:function(e){e.auth.token!==this.props.auth.token&&this.props.openModal("closed","")}},{key:"render",value:function(){var e=this,t="transparent";return"/"!==this.props.location.pathname&&(t="black"),i.a.createElement("div",{className:"container-fluid nav"},i.a.createElement("div",{className:"row"},i.a.createElement("nav",{className:t},i.a.createElement("div",{className:"nav-wrapper"},i.a.createElement(u.b,{to:"/",className:"left"},"airbnb"),i.a.createElement("ul",{id:"nav-mobile",className:"right"},i.a.createElement("li",null,i.a.createElement(u.b,{to:"/"},"English (US)")),i.a.createElement("li",null,i.a.createElement(u.b,{to:"/"},"$ USD")),i.a.createElement("li",null,i.a.createElement(u.b,{to:"/"},"Become a host")),i.a.createElement("li",null,i.a.createElement(u.b,{to:"/"},"Help")),this.props.auth.email?i.a.createElement(i.a.Fragment,null,i.a.createElement("li",null,i.a.createElement(u.b,{to:"/account"},"Hello, ",this.props.auth.email)),i.a.createElement("li",{onClick:function(){return e.props.logoutAction()}},"Logout")):i.a.createElement(i.a.Fragment,null,i.a.createElement("li",{className:"login-signup",onClick:function(){e.props.openModal("open",i.a.createElement(E.a,null))}},"Sign Up"),i.a.createElement("li",{className:"login-signup",onClick:function(){e.props.openModal("open",i.a.createElement(h.a,null))}},"Log in")))))))}}]),t}(c.Component);t.default=Object(m.b)((function(e){return{auth:e.auth}}),(function(e){return Object(p.b)({openModal:d.a,logoutAction:g},e)}))(b)},64:function(e,t,a){"use strict";t.a=function(e,t){return{type:"OPEN_MODAL",payload:{openClose:e,content:t}}}},68:function(e,t,a){"use strict";var n=a(61),o=a.n(n),r=a(62),l=a(13),s=a(14),c=a(16),i=a(15),u=a(17),m=a(0),p=a.n(m),d=(a(69),a(27)),g=a(6),h=a(64),E=a(74),b=a(63),f=a.n(b),v=a(70),w=a(65),N=a.n(w),O=function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,s=new Array(n),u=0;u<n;u++)s[u]=arguments[u];return(a=Object(c.a)(this,(e=Object(i.a)(t)).call.apply(e,[this].concat(s)))).state={email:"",password:""},a.changeEmail=function(e){return a.setState({email:e.target.value})},a.changePassword=function(e){return a.setState({password:e.target.value})},a.submitLogin=function(){var e=Object(r.a)(o.a.mark((function e(t){var n,r,l;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),console.log(a.state.email),console.log(a.state.password),n="".concat(window.apiHost,"/users/login"),r={email:a.state.email,password:a.state.password},e.next=7,f.a.post(n,r);case 7:l=e.sent,l.data.token,"noEmail"===l.data.msg?N()({title:"That email is not registered.",icon:"error"}):"badPass"===l.data.msg?N()({title:"Invalid email/password",text:"We don't have a match for that user name and password.",icon:"error"}):"loggedIn"===l.data.msg&&(N()({title:"Success!",icon:"success"}),a.props.regAction(l.data));case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),a}return Object(u.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this;return p.a.createElement("div",{className:"login-form"},p.a.createElement("form",{onSubmit:this.submitLogin},p.a.createElement("button",{className:"facebook-login"},"Connect With Facebook"),p.a.createElement("button",{className:"google-login"},"Connect With Google"),p.a.createElement("div",{className:"login-or center"},p.a.createElement("span",null,"or"),p.a.createElement("div",{className:"or-divider"})),p.a.createElement("input",{onChange:this.changeEmail,value:this.state.email,type:"text",className:"browser-default",placeholder:"Email address"}),p.a.createElement("input",{onChange:this.changePassword,value:this.state.password,type:"password",className:"browser-default",placeholder:"Password"}),p.a.createElement("button",{className:"sign-up-button"},"Login"),p.a.createElement("div",{className:"divider"}),p.a.createElement("div",null,"Don't have an account? ",p.a.createElement("span",{className:"pointer",onClick:function(){e.props.openModal("open",p.a.createElement(E.a,null))}},"Sign up"))))}}]),t}(m.Component);t.a=Object(d.b)(null,(function(e){return Object(g.b)({openModal:h.a,regAction:v.a},e)}))(O)},69:function(e,t,a){},70:function(e,t,a){"use strict";t.a=function(e){return{type:"REGISTER_ACTION",payload:e}}},74:function(e,t,a){"use strict";var n=a(61),o=a.n(n),r=a(62),l=a(13),s=a(14),c=a(16),i=a(15),u=a(17),m=a(0),p=a.n(m),d=(a(69),a(27)),g=a(6),h=a(64),E=a(70),b=a(68),f=a(63),v=a.n(f),w=a(65),N=a.n(w),O=function(e){function t(){var e;return Object(l.a)(this,t),(e=Object(c.a)(this,Object(i.a)(t).call(this))).changeEmail=function(t){return e.setState({email:t.target.value})},e.changePassword=function(t){return e.setState({password:t.target.value})},e.showInputs=function(){e.setState({lowerPartOfForm:p.a.createElement(y,{changeEmail:e.changeEmail,changePassword:e.changePassword})})},e.submitLogin=function(){var t=Object(r.a)(o.a.mark((function t(a){var n,r,l,s;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a.preventDefault(),n="".concat(window.apiHost,"/users/signup"),r={email:e.state.email,password:e.state.password},t.next=5,v.a.post(n,r);case 5:l=t.sent,s=l.data.token,console.log(s),console.log(l.data),"userExists"===l.data.msg?N()({title:"Email Exists",text:"The email you provided is already registered. Please try another.",icon:"error"}):"invalidData"===l.data.msg?N()({title:"Invalid email/password",text:"Please provide a valid email and password",icon:"error"}):"userAdded"===l.data.msg&&(N()({title:"Success!",icon:"success"}),e.props.regAction(l.data));case 10:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.state={lowerPartOfForm:p.a.createElement("button",{type:"button",onClick:e.showInputs,className:"sign-up-button"},"Sign up with email")},e}return Object(u.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this;return console.log(this.props.auth),p.a.createElement("div",{className:"login-form"},p.a.createElement("form",{onSubmit:this.submitLogin},p.a.createElement("button",{className:"facebook-login"},"Connect With Facebook"),p.a.createElement("button",{className:"google-login"},"Connect With Google"),p.a.createElement("div",{className:"login-or center"},p.a.createElement("span",null,"or"),p.a.createElement("div",{className:"or-divider"})),this.state.lowerPartOfForm,p.a.createElement("div",{className:"divider"}),p.a.createElement("div",null,"Already have an account? ",p.a.createElement("span",{className:"pointer",onClick:function(){e.props.openModal("open",p.a.createElement(b.a,null))}},"Log in"))))}}]),t}(m.Component);t.a=Object(d.b)((function(e){return{auth:e.auth}}),(function(e){return Object(g.b)({openModal:h.a,regAction:E.a},e)}))(O);var y=function(e){return p.a.createElement("div",{className:"sign-up-wrapper"},p.a.createElement("div",{className:"col m12"},p.a.createElement("div",{className:"input-field",id:"email"},p.a.createElement("div",{className:"form-label"},"Email"),p.a.createElement("input",{type:"text",placeholder:"Email",onChange:e.changeEmail}))),p.a.createElement("div",{className:"col m12"},p.a.createElement("div",{className:"input-field",id:"password"},p.a.createElement("div",{className:"form-label"},"Password"),p.a.createElement("input",{type:"password",placeholder:"Password",onChange:e.changePassword}))),p.a.createElement("div",{className:"col m12"},p.a.createElement("button",{type:"submit",className:"btn red accent-2"},"Sign Up!")))}}}]);
//# sourceMappingURL=10.d1a29954.chunk.js.map