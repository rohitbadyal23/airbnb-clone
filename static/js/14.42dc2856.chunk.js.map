{"version":3,"sources":["pages/PaymentSuccess/PaymentSuccess.js"],"names":["library","add","faLongArrowAltRight","PaymentSuccess","state","reservationDetails","venueData","waiting","stripeToken","this","props","match","params","token","auth","data","successUrl","window","apiHost","axios","post","resp","console","log","setState","userData","rd","vd","className","icon","size","color","diffDays","location","email","moment","format","checkIn","checkOut","title","details","pricePerNight","totalPrice","to","src","imageUrl","Component","connect"],"mappings":"gUAUAA,IAAQC,IAAIC,K,IAENC,E,2MAEFC,MAAQ,CACJC,mBAAoB,GACpBC,UAAW,GACXC,SAAS,G,kNAIHC,EAAcC,KAAKC,MAAMC,MAAMC,OAAOJ,YACtCK,EAAQJ,KAAKC,MAAMI,KAAKD,MACxBE,EAAO,CAACP,cAAYK,SACpBG,E,UAAgBC,OAAOC,Q,6BACVC,IAAMC,KAAKJ,EAAWD,G,OAAnCM,E,OACNC,QAAQC,IAAIF,EAAKN,MACjBN,KAAKe,SAAS,CACVnB,mBAAoBgB,EAAKN,KAAKV,mBAC9BoB,SAAUJ,EAAKN,KAAKU,SACpBlB,SAAS,I,qIAKb,GAAGE,KAAKL,MAAMG,QACV,OAAO,kBAAC,IAAD,MAEX,IAAMmB,EAAKjB,KAAKL,MAAMC,mBACtBiB,QAAQC,IAAIG,GACZ,IAAMC,EAAKD,EAAGpB,UAEd,OADAgB,QAAQC,IAAII,GAER,yBAAKC,UAAU,2BACX,wBAAIA,UAAU,kBAAd,kBACA,yBAAKA,UAAU,iCACX,yBAAKA,UAAU,yBACX,kBAAC,IAAD,CAAiBC,KAAK,uBAAuBC,KAAK,KAAKC,MAAM,YADjE,cACyFL,EAAGM,SAD5F,cACiHL,EAAGM,SAChH,yBAAKL,UAAU,eACX,2CAAiBnB,KAAKC,MAAMI,KAAKoB,OACjC,6BAAMC,MAASC,OAAO,oBAG9B,yBAAKR,UAAU,wBACX,yBAAKA,UAAU,UACX,yBAAKA,UAAU,gBACX,yBAAKA,UAAU,iBACX,yBAAKA,UAAU,QAAf,YAAoC,yBAAKA,UAAU,SAAf,cAExC,yBAAKA,UAAU,iBACX,yBAAKA,UAAU,QAAQO,IAAOT,EAAGW,SAASD,OAAO,iBAAsB,yBAAKR,UAAU,SAASO,IAAOT,EAAGY,UAAUF,OAAO,kBAE9H,yBAAKR,UAAU,sBACVD,EAAGY,OAER,yBAAKX,UAAU,mBACVD,EAAGa,WAMhB,yBAAKZ,UAAU,UACX,yBAAKA,UAAU,gBACX,yBAAKA,UAAU,yBACX,yBAAKA,UAAU,wBAAf,WACA,yBAAKA,UAAU,eACX,yBAAKA,UAAU,QAAf,IAAwBF,EAAGe,cAA3B,MAA6Cf,EAAGM,SAAhD,SACA,yBAAKJ,UAAU,SAAf,IAAyBF,EAAGgB,aAEhC,yBAAKd,UAAU,eACX,yBAAKA,UAAU,QAAf,YACA,yBAAKA,UAAU,SAAf,OAEJ,yBAAKA,UAAU,qBACX,yBAAKA,UAAU,QAAf,SACA,yBAAKA,UAAU,SAAf,IAAyBF,EAAGgB,cAGpC,yBAAKd,UAAU,eAAf,0EAAoG,kBAAC,IAAD,CAAMe,GAAG,YAAT,gBAApG,KACA,yBAAKf,UAAU,sBAAqB,yBAAKgB,IAAKjB,EAAGkB,qB,GA9EpDC,aAgGdC,uBAPf,SAAyB3C,GACrB,MAAM,CACFU,KAAMV,EAAMU,QAKLiC,CAAyB5C","file":"static/js/14.42dc2856.chunk.js","sourcesContent":["import React, { Component } from 'react';\nimport { connect } from 'react-redux'\nimport axios from 'axios';\nimport moment from 'moment'\nimport {Link} from 'react-router-dom'\nimport Spinner from '../../utility/Spinner/Spinner'\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport { faLongArrowAltRight } from '@fortawesome/free-solid-svg-icons';\nimport { library } from '@fortawesome/fontawesome-svg-core'\nimport './PaymentSuccess.css'\nlibrary.add(faLongArrowAltRight);\n\nclass PaymentSuccess extends Component{\n\n    state = {\n        reservationDetails: {},\n        venueData: {},\n        waiting: true,\n    }\n\n    async componentDidMount(){\n        const stripeToken = this.props.match.params.stripeToken;\n        const token = this.props.auth.token;\n        const data = {stripeToken,token};\n        const successUrl = `${window.apiHost}/payment/success`;\n        const resp = await axios.post(successUrl,data);\n        console.log(resp.data);\n        this.setState({\n            reservationDetails: resp.data.reservationDetails,\n            userData: resp.data.userData,\n            waiting: false,\n        })\n    }\n\n    render(){\n        if(this.state.waiting){\n            return(<Spinner/>)\n        }\n        const rd = this.state.reservationDetails;\n        console.log(rd)\n        const vd = rd.venueData;\n        console.log(vd)\n        return(\n            <div className=\"reservation-success row\">\n                <h1 className=\"col m12 center\">Start Packing!</h1>\n                <div className=\"resv-details col s8 offset-s2\">\n                    <div className=\"confirmed col m12 row\">\n                        <FontAwesomeIcon icon=\"long-arrow-alt-right\" size=\"1x\" color=\"#ED0000\" />Confirmed: {rd.diffDays} nights in {vd.location}         \n                        <div className=\"header-text\">\n                            <div>Booked by: {this.props.auth.email}</div>\n                            <div>{moment().format('MMMM Do, YYYY')}</div>\n                        </div>\n                    </div>\n                    <div className=\"confirmed-detail row\">\n                        <div className=\"col m5\">\n                            <div className=\"bordered col\">\n                                <div className=\"col m12 upper\">\n                                    <div className=\"left\">Check in</div><div className=\"right\">Check out</div>\n                                </div>\n                                <div className=\"col m12 lower\">\n                                    <div className=\"left\">{moment(rd.checkIn).format('MMM Do, YYYY')}</div><div className=\"right\">{moment(rd.checkOut).format('MMM Do, YYYY')}</div>\n                                </div>\n                                <div className=\"col m12 title-text\">\n                                    {vd.title}\n                                </div>  \n                                <div className=\"col m12 details\">\n                                    {vd.details}\n                                </div>  \n                            </div>\n                        </div>\n\n\n                        <div className=\"col m7\">\n                            <div className=\"bordered col\">\n                                <div className=\"col m12 upper charges\">\n                                    <div className=\"charges-text col m12\">Charges</div>\n                                    <div className=\"row col m12\">\n                                        <div className=\"left\">${rd.pricePerNight} x {rd.diffDays} days</div>\n                                        <div className=\"right\">${rd.totalPrice}</div>\n                                    </div>\n                                    <div className=\"row col m12\">\n                                        <div className=\"left\">Discount</div>\n                                        <div className=\"right\">$0</div>\n                                    </div>                                \n                                    <div className=\"row col m12 total\">\n                                        <div className=\"left\">TOTAL</div>\n                                        <div className=\"right\">${rd.totalPrice}</div>\n                                    </div>\n                                </div>\n                                <div className=\"col m12 row\">To rview or make changes to your reservation in the future, visit your <Link to=\"/account\">account page</Link>.</div>\n                                <div className=\"col m12 resv-image\"><img src={vd.imageUrl} /></div>\n                            </div>\n                        </div>\n                    </div>\n                </div>\n            </div>\n\n        )\n    }\n}\n\nfunction mapStateToProps(state){\n    return{\n        auth: state.auth,\n    }\n}\n\n\nexport default connect(mapStateToProps)(PaymentSuccess);\n"],"sourceRoot":""}