{"version":3,"sources":["actions/logoutAction.js","utility/NavBar/NavBar.js","actions/openModal.js","pages/Login/Login.js","actions/regAction.js","pages/Login/SignUp.js"],"names":["type","NavBar","oldProps","auth","token","this","props","openModal","navColor","location","pathname","className","to","id","email","onClick","logoutAction","SignUp","Login","Component","connect","state","dispatcher","bindActionCreators","openClose","content","payload","password","changeEmail","e","setState","target","value","changePassword","submitLogin","a","preventDefault","console","log","url","window","apiHost","data","axios","post","resp","msg","swal","title","icon","text","regAction","onSubmit","onChange","placeholder","regObj","showInputs","lowerPartOfForm","SignUpInputFields"],"mappings":"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","file":"static/js/10.d1a29954.chunk.js","sourcesContent":["export default()=>{\n    return{\n        type: \"LOGOUT\",\n    }\n}","import React, { Component } from 'react';\nimport './NavBar.css';\nimport { Link } from 'react-router-dom';\nimport {connect} from 'react-redux';\nimport {bindActionCreators} from 'redux';\nimport openModal from '../../actions/openModal';\nimport logoutAction from '../../actions/logoutAction';\nimport Login from '../../pages/Login/Login'\nimport SignUp from '../../pages/Login/SignUp'\n\nclass NavBar extends Component{\n\n    componentDidUpdate(oldProps){\n        if(oldProps.auth.token !== this.props.auth.token){\n            this.props.openModal('closed','');\n        }\n    }\n\n    render(){\n\n        let navColor = 'transparent';\n        if(this.props.location.pathname !== '/'){\n            // then user is not on the home page!\n            navColor = 'black'\n        }\n    \n        return(<div className=\"container-fluid nav\">\n            <div className=\"row\">\n                <nav className={navColor}>\n                    <div className=\"nav-wrapper\">\n                        <Link to=\"/\" className=\"left\">airbnb</Link>\n                        <ul id=\"nav-mobile\" className=\"right\">\n                            <li><Link to=\"/\">English (US)</Link></li>\n                            <li><Link to=\"/\">$ USD</Link></li>\n                            <li><Link to=\"/\">Become a host</Link></li>\n                            <li><Link to=\"/\">Help</Link></li>\n                            {this.props.auth.email\n                                ?   <> \n                                        <li><Link to=\"/account\">Hello, {this.props.auth.email}</Link></li>\n                                        <li onClick={()=>this.props.logoutAction()}>Logout</li>\n                                    </>\n                                :   <>\n                                        <li className=\"login-signup\" onClick={()=>{this.props.openModal('open',<SignUp />)}}>Sign Up</li>\n                                        <li className=\"login-signup\" onClick={()=>{this.props.openModal('open',<Login />)}}>Log in</li>\n                                    </>\n                            }\n                        </ul>\n                    </div>\n                </nav>\n            </div>\n        </div>\n        )\n    }\n}\n\nfunction mapStateToProps(state){\n    return{\n        auth: state.auth,\n    }\n}\n\nfunction mapDispatchToProps(dispatcher){\n    return bindActionCreators({\n        openModal: openModal,\n        logoutAction: logoutAction,\n    },dispatcher)\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(NavBar);\n","export default (openClose,content)=>{\n    return{\n        type: \"OPEN_MODAL\",\n        payload: {\n            openClose,\n            content,\n        }\n    }\n}","import React, {Component} from 'react';\nimport './Login.css';\nimport {connect} from 'react-redux';\nimport {bindActionCreators} from 'redux'\nimport openModal from '../../actions/openModal';\nimport SignUp from './SignUp';\nimport axios from 'axios';\nimport regAction from '../../actions/regAction'\nimport swal from 'sweetalert'\n\nclass Login extends Component{\n\n    state = {\n        email: \"\",\n        password: \"\",\n    }\n\n    changeEmail = (e)=>this.setState({email:e.target.value})\n    changePassword = (e)=>this.setState({password:e.target.value})\n\n\n    submitLogin = async(e)=>{\n        e.preventDefault();\n        console.log(this.state.email);\n        console.log(this.state.password);\n\n        const url = `${window.apiHost}/users/login`;\n        const data = {\n            email: this.state.email,\n            password: this.state.password\n        }\n        const resp = await axios.post(url,data);\n        const token = resp.data.token;\n                \n\n\n        \n        // -- noEmail\n        if(resp.data.msg === \"noEmail\"){\n            swal({\n                title: \"That email is not registered.\",\n                icon: \"error\",\n              })\n        // -- badPass\n        }else if(resp.data.msg === \"badPass\"){\n            swal({\n                title: \"Invalid email/password\",\n                text: \"We don't have a match for that user name and password.\",\n                icon: \"error\",\n              })\n        // -- loggedIn\n        }else if(resp.data.msg === \"loggedIn\"){\n            swal({\n                title: \"Success!\",\n                icon: \"success\",\n              });\n            // we call our register action to update our auth reducer!!\n            this.props.regAction(resp.data);\n        }\n    }\n\n    render(){\n        return(\n            <div className=\"login-form\">\n                <form onSubmit={this.submitLogin}>\n                    <button className=\"facebook-login\">Connect With Facebook</button>\n                    <button className=\"google-login\">Connect With Google</button>\n                    <div className=\"login-or center\">\n                        <span>or</span>\n                        <div className=\"or-divider\"></div>\n                    </div>\n                    <input onChange={this.changeEmail} value={this.state.email} type=\"text\" className=\"browser-default\" placeholder=\"Email address\" />\n                    <input onChange={this.changePassword} value={this.state.password} type=\"password\" className=\"browser-default\" placeholder=\"Password\" />\n                    <button className=\"sign-up-button\">Login</button>\n                    <div className=\"divider\"></div>\n                    <div>Don't have an account? <span className=\"pointer\" onClick={()=>{this.props.openModal('open',<SignUp />)}}>Sign up</span></div>\n                </form>\n            </div>\n        )\n    }\n\n}\n\nfunction mapDispatchToProps(dispatcher){\n    return bindActionCreators({\n        openModal: openModal,\n        regAction: regAction,\n    },dispatcher)\n}\n\nexport default connect(null, mapDispatchToProps)(Login);\n","export default(regObj)=>{\n    return{\n        type: \"REGISTER_ACTION\",\n        payload: regObj,\n    }\n}","import React, {Component} from 'react';\nimport './Login.css'\nimport {connect} from 'react-redux';\nimport {bindActionCreators} from 'redux'\nimport openModal from '../../actions/openModal';\nimport regAction from '../../actions/regAction'\n\nimport Login from './Login'\nimport axios from 'axios';\nimport swal from 'sweetalert';\n\nclass SignUp extends Component{\n\n    constructor(){\n        super();\n        this.state = {\n            lowerPartOfForm: <button type=\"button\" onClick={this.showInputs} className=\"sign-up-button\">Sign up with email</button>\n        }\n    }\n\n    changeEmail = (e)=>this.setState({email:e.target.value})\n    changePassword = (e)=>this.setState({password:e.target.value})\n\n    showInputs = ()=>{\n        this.setState({\n            lowerPartOfForm: <SignUpInputFields \n                changeEmail={this.changeEmail} \n                changePassword={this.changePassword} \n            />\n        })\n    }\n\n    submitLogin = async(e)=>{\n        e.preventDefault();\n        // console.log(this.state.email);\n        // console.log(this.state.password);\n        const url = `${window.apiHost}/users/signup`;\n        const data = {\n            email: this.state.email,\n            password: this.state.password\n        }\n        const resp = await axios.post(url,data);\n        const token = resp.data.token;\n        console.log(token)\n        console.log(resp.data);\n\n        ////////////\n        // resp.data.msg could be:\n        // - invalidData\n        // - userExists\n        // - userAdded\n        if(resp.data.msg === \"userExists\"){\n            swal({\n                title: \"Email Exists\",\n                text: \"The email you provided is already registered. Please try another.\",\n                icon: \"error\",\n              })            \n        }else if(resp.data.msg === \"invalidData\"){\n            swal({\n                title: \"Invalid email/password\",\n                text: \"Please provide a valid email and password\",\n                icon: \"error\",\n              })\n        }else if(resp.data.msg === \"userAdded\"){\n            swal({\n                title: \"Success!\",\n                icon: \"success\",\n              });\n            // we call our register action to update our auth reducer!!\n            this.props.regAction(resp.data);\n        }\n\n        // const url2 = `${window.apiHost}/users/token-check`;\n        // const resp2 = await axios.post(url2,{token});\n        // console.log(resp2.data);\n\n    }\n\n    render(){\n\n        console.log(this.props.auth);\n\n        return(\n            <div className=\"login-form\">\n                <form onSubmit={this.submitLogin}>\n                    <button className=\"facebook-login\">Connect With Facebook</button>\n                    <button className=\"google-login\">Connect With Google</button>\n                    <div className=\"login-or center\">\n                        <span>or</span>\n                        <div className=\"or-divider\"></div>\n                    </div>\n                    {this.state.lowerPartOfForm}\n                    <div className=\"divider\"></div>\n                    <div>Already have an account? <span className=\"pointer\" onClick={()=>{this.props.openModal('open',<Login />)}}>Log in</span></div>\n                </form>\n            </div>\n\n        )\n    }\n\n}\n\nfunction mapStateToProps(state){\n    return{\n        auth: state.auth,\n    }\n}\n\nfunction mapDispatchToProps(dispatcher){\n    return bindActionCreators({\n        openModal: openModal,\n        regAction: regAction,\n    },dispatcher)\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(SignUp);\n\n\nconst SignUpInputFields = (props)=>{\n    return(\n        <div className=\"sign-up-wrapper\">\n            <div className=\"col m12\">\n                <div className=\"input-field\" id=\"email\">\n                    <div className=\"form-label\">Email</div>\n                    <input type=\"text\" placeholder=\"Email\" onChange={props.changeEmail} />\n                </div>\n            </div>\n            <div className=\"col m12\">\n                <div className=\"input-field\" id=\"password\">\n                    <div className=\"form-label\">Password</div>\n                    <input type=\"password\" placeholder=\"Password\" onChange={props.changePassword} />\n                </div>\n            </div>\n            <div className=\"col m12\">\n                <button type=\"submit\" className=\"btn red accent-2\">Sign Up!</button>\n            </div>\n        </div>\n    )\n}\n\n\n"],"sourceRoot":""}